# Eight Figure

### 实验内容

使用搜索算法（深度优先算法、广度优先算法、A*算法）解决八数码问题，并扩展到十五数码。

八数码问题：在3*3的九宫棋盘上随机放置数码1-8和一个空格。只允许数码向空格移动。通过有限步移动将棋盘从初始状态变换到目标状态。

十五数码问题：在4*4的十六宫格棋盘上随机放置数码1-15和一个空格。移动同理。最终从初始状态变换到目标状态。

### 算法说明

open表：保存已生成但未扩展的状态节点。

closed表：保存已扩展的状态节点。

#### 1. 深度优先算法

从S0出发，沿一个方向扩展，直至达到一定深度或无法扩展时，回溯到另一条路径。搜索到某一状态时它的子状态以及后裔状态都应先于它未被搜索的兄弟状态被搜索。

**不一定能找到最优解，并且由于深度限制可能找不到解。**

算法如下：

1. 把初始节点S0放到open表中。open表为栈，先入后出。

2. 如果open表为空，则未找到路径，退出。

3. 把open表栈顶节点删除，称为状态n。放入closed表中。

4. IF n 状态节点是目标状态 THEN return(success)。

5. IF n 状态节点深度大于深度限制 THEN continue。

6. 扩展节点n，生成所有子状态。删除已在open表和closed表中的状态，依次加入open表栈顶。返回（2）。


#### 2. 广度优先算法

从S0出发，扩展所有子状态，一层层扩展直到搜索到目标状态。

**总能找到最优解，但分支数多，资源耗费，效率低。**

算法如下：

1. 把初始节点S0放到open表中。open表为队列，先入先出。

2. 如果open表为空，则未找到路径，退出。

3. 把open表队头顶节点删除，称为状态n。放入closed表中。

4. IF n状态节点是目标状态 THEN return(success)。

5. IF n状态节点深度大于深度限制 THEN continue。

6. 扩展节点n，生成所有子状态。删除已在open表和closed表中的状态，依次加入open表队尾。返回（2）。

#### 3. A*算法

启发式搜索：利用与问题有关的知识（启发信息）来引导搜索，减少搜索范围，降低问题复杂度。

估价函数：
  $$f(n)=g(n)+h(n)是对f*(n)=g*(n)+h*(n)函数的估计。$$

  $$f*(n)：从初始节点经过n节点到达目标节点的最短路径的代价值$$

  $$g*(n)：从初始节点到节点n的最短路径代价值$$

  $$h*(n)：从节点n到目标节点的最短路径代价值$$

启发信息的强度

  强：降低搜索工作量，可能导致找不到最优解

  弱：一般导致工作量加大，极限情况下变为盲目搜索，但可能可以找到最优解。

本次课程实验采用两种估价函数

 $$h1(n)：当前状态n与目标状态相比，不在位的数码个数。$$

 $$h2(n)：当前状态n与目标状态相比，各数码移动到目标状态位置所需移动的距离总和。$$

算法如下：

1.  把初始节点S0放到open表中。计算f(S0)。

2. 如果open表为空，则未找到路径，退出。

3.  把open表第一个节点删除，称为状态n。放入closed表中。

4. IF n状态节点是目标状态 THEN return(success)。

5. IF n状态节点深度大于深度限制 THEN continue。

6. 扩展节点n，生成所有子状态，并计算估价函数f(n)。若未存在在open表和closed表中，直接加入到open表中。若存在，则比较f(n)值小于表中值，则要修改open表或closed表中节点及后裔的值。

7. 对open表按f(n)的值以升序排序，返回（2）。

### 编译环境/编程语言

编程环境/编程语言：PyCharm/python 3.8

### 测试方法说明

节点数据由用户自己输入。输入初始状态、目标状态和深度限制，输出广度优先结果、深度优先结果、2种启发函数下的A*算法结果，及各个算法运行时间。

测试案例：

（一）

请输入初始状态：2 5 8 3 4 0 1 7 6

请输入目标状态：2 5 8 3 4 6 1 0 7

请输入深度限制：10

（二）

请输入初始状态：0 1 3 4 2 5 7 8 6

请输入目标状态：4 1 3 7 0 5 8 2 6

请输入深度限制：20

（三）

请输入初始状态：0 7 8 2 5 4 3 6 1

请输入目标状态：7 5 8 2 4 1 3 6 0

请输入深度限制：15

（四）

请输入初始状态：4 0 1 6 8 5 7 3 2

请输入目标状态：5 8 2 1 0 4 6 3 7

请输入深度限制：20

（五）

请输入初始状态：1 2 3 4 0 5 7 8 9 6 10 12 13 14 11 15

请输入目标状态：1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 0

请输入深度限制：10

（六）

请输入初始状态：1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 0

请输入目标状态：1 2 3 4 0 5 7 8 9 6 11 12 13 10 14 15

请输入深度限制：10

（七）

请输入初始状态：2 5 8 3 4 0 1 7 6

请输入目标状态：2 5 8 3 4 0 7 1 6

请输入深度限制：10
